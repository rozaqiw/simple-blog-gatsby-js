---
date: 2020-03-25
title: '云主机'
template: post
thumbnail: '../thumbnails/js.png'
slug: 云主机
categories:
  - Code
tags:
  - javascript
---

PuTTY on Windows

方式一：以密码方式登录

1. 填写Host IP和Port

![计算机生成了可选文字: PuTTY Configuration  Category:  Session  Logging  Terminal  Keyboard  Bell  Features  OWindow  Appearance  Behaviour  Translation  Selection  Colours  Connection  Data  Proxy  Telnet  Rlogin  @SSH  Serial  About  Basic options for your PuTTY session  Specify the destination you want to connect to  Host Name (or IP address)  128.199.176.191  Connection type:  port  22  C) Raw C) Telnet C) Rlogin @ SSH O  Load, save or delete a stored session  Serial  Saved Sessions  128.199.176.191  Default Settin s  128.199.176.191  172.16.13.122  172.16.13.123  45.62.113.21  Close window on exit:  C) Always C) Never  Load  Save  Delete  @ Only on clean exit  Open  Cancel ](https://github.com/ytxgit/Notes/raw/master/img/E58A3CF9-7D62-CC4C-B290-68CDD735F468.png)

2. 选择Open
3. 同意安全警告
4. 填写用户名root和密码并按提示修改现有密码

![计算机生成了可选文字: root@ubuntu-yuant: N/.ssh  login as: root  root@128 . 199.176.191's password:  You are required to change your password immediately (root enforced)  Welcome to Ubuntu 14. 04.4 LTS (GNU/ Linux 4.4. x86 64)  https : / / help . ubuntu . com/  * Documentation:  System information as of Fri Jul 15 10:28:38  EDT 2016  System load: 0.0  Memory usage :  11%  Usage of / :  6.4% of 19. IOGB Swap usage:  Graph this data and manage this system at:  https : / / landscape . canonical . com/  Processes :  Users logged in:  86  0  The programs included with the Ubuntu system are free software;  the exact distribution terms for each program are described in the  individual files in /usr/share/doc/* / copyright.  Ubuntu comes with ABSOLUTELY NO WARRANTY, to the extent permitted by  applicable law.  Changing password for root .  (current) UNIX password:  Enter new UNIX password:  Retype new UNIX password:  : # Is ](https://github.com/ytxgit/Notes/raw/master/img/3AD2147D-D48E-AA43-BD9B-4786117C4091.png)

 

方式二：以SSH Key方式登录

1. 在VPS上生成ssh key

```
ssh-keygen -t rsa
```

![计算机生成了可选文字: Lrootßloca lhost / Itt ssh-keygen -t rsa  Generating publ iczprivate rsa key pair.  Enter file in which to sat...e the key (groot/ .ssh/id_rsa):  Created directory ' groot/ .ssh'  Enter passphrase (empty for no passphrase) :  Enter sane passphrase again:  Your identif ication has been sat...ed in groot/ .ssh/id_rsa.  Your public key has been sat...ed in groot/ .ssh/id_rsa . pub.  The key fingerprint is:  c3 rootelocalhost. localdomin  The key's randomrt irmge is:  4--1 28481----+ ](https://github.com/ytxgit/Notes/raw/master/img/DED8BB59-3F92-7340-BED2-AC82054AC7F5.png)

2. 修改公钥文件名和权限

```
mv /root/.ssh/id_rsa.pub /root/.ssh/authorized_keys
chmod 600 /root/.ssh/authorized_keys
```

![计算机生成了可选文字: Lrootßlocalhost / Itt rw groot/ .ssh/id rsa . pub groot/ .sshzauthorized_keys  Lrootßloca lhost / Itt chrmd 68B groot/ .sshzauthor ized_keys ](https://github.com/ytxgit/Notes/raw/master/img/682BE94A-2FBF-C04B-BFA2-B81610EAD83A.png)

3. 设置ssh

```
关闭密码登录及root登陆
vim /etc/ssh/sshd_config
PasswordAuthentication no
PermitRootLogin no
```

4. 安装WinSCP及PuTTY

5. 下载/root/.ssh/id_rsa私钥文件

![计算机生成了可选文字: /root/.ssh  Name  authorized  id rsa  keys  Size  Changed  201 5/12/26  1 KB 201 5/12/26  2 KB 201 5/12/26  Rights  r-xr-x--  rw-r--r--  Owner  root  root  root ](https://github.com/ytxgit/Notes/raw/master/img/57CF0157-A907-0646-9698-D0DD913390FF.png)

6. Tool->Run      PuTTYgen

```
Conversions->Import key (id_rsa)
```

![计算机生成了可选文字: PuTTY Key Generator  File Key Conversions Help  Key  Public key for pasting into OpenSSH authorized keys file:  ssh-rsa  x  AAAAB3NzaC1yc2EAAAABlwAAAQEAqGbbGHF8chlVJaHvUZ0813uEVU59mV5U6kW  5Yn4SvqccBeS01/A1qXxcvkVtubvlk0YmHaRXGa/btkGtPWmFqFpLe86fXzrwpPll  +B2wdx  +U/gAuZR7jWBWBkiThbURakwx5KSgtgBeGKuOGGiPuF9hWCSmN2+YyOX5PNGw3w v  Key fingerprint:  Key comment:  Key passphrase:  ssh-rsa 2048  imported-openssh-key  Generate  Load  Save private key  Save public key  Confirm passphrase:  Actions  Generate a public/private key pair  Load an existing private key file  Save the generated key  Parameters  Type of key to generate:  O SSH-I (RSA)  @ SSH-2 RSA  O SSH-2 DSA  2048  Number of bits in a generated key: ](https://github.com/ytxgit/Notes/raw/master/img/32A6885A-BF75-3847-BA86-B07D71A4C889.png)

```
Save private key生成ppk
```

7. 设置WinSCP

```
Advanced->Authentication->Private key file
```

![计算机生成了可选文字: Advanced Site Settings  Environment  Directories  Recycle bin  SFTP  Shell  Connection  Proxy  Tunnel  SSH  Key exchange  Authentication  Bugs  Note  Color  Bypass authentication entirely (SSH-2)  Authentication options  Attempt authentication using Pageant  Attempt TIS or CryptoCard authentication (SSH-I)  Attempt 'keyboard-interactive' authentication (SSH-2)  Respond with password to the first prompt  Authentication parameters  Allow agent forwarding  Private key file:  C:WsersXRaisdoeXDocumentsXsshX45-62-113-21.ppk  x  GSSAPI  Attempt GSSAPI authentication (SSH-2)  Allow GSSAPI credential delegation  OK  Cancel  Help ](https://github.com/ytxgit/Notes/raw/master/img/9F08416C-A215-524D-8603-ADA444E5448B.png)

8. Tool->Preferences->Applications->Remember      session password and pass it to PuTTY

![计算机生成了可选文字: Preferences  Environment  Interface  Window  Commander  Explorer  Languages  Panels  Remote  Local  Editors  Transfer  Drag & Drop  Background  Endurance  Network  Security  Logging  Integration  Applications  Commands  Storage  Updates  External applications  PulTY/Terminal client path:  0/0PROGRAMFILESO/0XPuTP(Xputty.exe  x  Browse...  Help  patterns  Remember session password and pass it to PulTY (SSH)  Open Telnet sessions in PulTY for FTP sessions  Automatically open new sessions in PulTY  PuTP( registry key:  SoftwareXSimonTathamXPu1TY  OK  Cancel ](https://github.com/ytxgit/Notes/raw/master/img/D6E05B7D-397C-B444-9F24-F008FFD68BCB.png)

9. Login